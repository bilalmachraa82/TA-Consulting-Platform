(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{53314:function(e,r,a){Promise.resolve().then(a.bind(a,17275))},17275:function(e,r,a){"use strict";a.d(r,{DashboardHome:function(){return k}});var t=a(57437),s=a(2265),i=a(66070),o=a(50873),d=a(35974),l=a(62869),n=a(51817),c=a(96362),m=a(48736),x=a(76865),u=a(91723),h=a(70525),f=a(43044),g=a(17580),p=a(98420),b=a(98239),v=a(27648),j=a(30166),N=a(14084);let y=(0,j.default)(()=>a.e(6705).then(a.bind(a,76705)).then(e=>e.Bar),{loadableGenerated:{webpack:()=>[null]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)(n.Z,{className:"w-6 h-6 animate-spin text-blue-500"})})}),w=(0,j.default)(()=>a.e(6705).then(a.bind(a,76705)).then(e=>e.Doughnut),{loadableGenerated:{webpack:()=>[null]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)(n.Z,{className:"w-6 h-6 animate-spin text-blue-500"})})});function k({kpis:e,avisos:r,candidaturas:a,notificacoes:j,workflows:N}){let[k,C]=(0,s.useState)(null),[Z,E]=(0,s.useState)(!0);(0,s.useEffect)(()=>{R()},[]);let R=async()=>{try{let e=await fetch("/api/dashboard/metricas"),r=await e.json();C(r)}catch(e){console.error("Erro ao buscar m\xe9tricas:",e)}finally{E(!1)}},S=e=>{let r=new Date,a=Math.ceil((e.getTime()-r.getTime())/864e5);return a<=7?"bg-red-500":a<=15?"bg-amber-500":"bg-emerald-500"},z=e=>{let r=new Date,a=Math.ceil((e.getTime()-r.getTime())/864e5);return a<=0?(0,t.jsx)(d.C,{variant:"destructive",className:"bg-red-500/10 text-red-400 border-red-500/20",children:"Expirado"}):a<=7?(0,t.jsxs)(d.C,{variant:"destructive",className:"bg-red-500/10 text-red-400 border-red-500/20",children:["Urgente (",a,"d)"]}):a<=15?(0,t.jsxs)(d.C,{variant:"secondary",className:"bg-amber-500/10 text-amber-400 border-amber-500/20",children:["Aten\xe7\xe3o (",a,"d)"]}):(0,t.jsxs)(d.C,{variant:"outline",className:"text-slate-400 border-slate-700",children:[a," dias"]})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Dashboard Overview"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Vis\xe3o geral da tua opera\xe7\xe3o de fundos em tempo real"})]}),(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsxs)(l.z,{className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 mr-2"})," Novo Aviso"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,t.jsxs)(o.J,{glow:!0,className:"p-6 relative group overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(m.Z,{className:"w-24 h-24 text-blue-500"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center mb-4 text-blue-500 dark:text-blue-400",children:(0,t.jsx)(m.Z,{className:"w-6 h-6"})}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Avisos Ativos"}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-foreground mt-1",children:e.totalAvisos})]})]})}),(0,t.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsxs)(o.J,{glow:!0,className:"p-6 relative group overflow-hidden border-red-900/50",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(x.Z,{className:"w-24 h-24 text-red-500"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center mb-4 text-red-500 dark:text-red-400",children:(0,t.jsx)(x.Z,{className:"w-6 h-6"})}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Urgentes"}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-foreground mt-1",children:e.avisosUrgentes})]})]})}),(0,t.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,t.jsxs)(o.J,{glow:!0,className:"p-6 relative group overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(u.Z,{className:"w-24 h-24 text-amber-500"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center mb-4 text-amber-500 dark:text-amber-400",children:(0,t.jsx)(u.Z,{className:"w-6 h-6"})}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Em Curso"}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-foreground mt-1",children:e.candidaturasEmCurso})]})]})}),(0,t.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,t.jsxs)(o.J,{glow:!0,className:"p-6 relative group overflow-hidden border-emerald-900/50",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(h.Z,{className:"w-24 h-24 text-emerald-500"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center mb-4 text-emerald-500 dark:text-emerald-400",children:(0,t.jsx)(h.Z,{className:"w-6 h-6"})}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Taxa Sucesso"}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsxs)("h3",{className:"text-3xl font-bold text-foreground mt-1",children:[e.taxaSucesso,"%"]}),(0,t.jsx)("span",{className:"text-emerald-500 text-sm",children:"+2.4%"})]})]})]})})]}),Z?(0,t.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,t.jsx)(n.Z,{className:"w-8 h-8 animate-spin text-blue-500"})}):k?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(b.E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.5},children:(0,t.jsxs)(o.J,{className:"p-1 h-full",children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2 text-foreground",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-blue-500 dark:text-blue-400"}),"Avisos por Portal"]}),(0,t.jsx)(i.SZ,{className:"text-muted-foreground",children:"Volume de oportunidades por fonte"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)(y,{data:{labels:k.graficos.avisosPorPortal.map(e=>e.portal),datasets:[{label:"Avisos",data:k.graficos.avisosPorPortal.map(e=>e.total),data:k.graficos.avisosPorPortal.map(e=>e.total),backgroundColor:["rgba(59, 130, 246, 0.6)","rgba(16, 185, 129, 0.6)","rgba(236, 72, 153, 0.6)"],borderColor:["#3b82f6","#10b981","#ec4899"],borderWidth:2,borderRadius:8,hoverBackgroundColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.8)",padding:16,cornerRadius:12,titleColor:"#fff",bodyColor:"#cbd5e1",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,displayColors:!1,backdropFilter:"blur(10px)"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(94, 114, 228, 0.1)"},ticks:{color:"#64748b"},border:{display:!1}},x:{grid:{display:!1},ticks:{color:"#64748b"},border:{display:!1}}},elements:{bar:{backgroundColor:"rgba(59, 130, 246, 0.5)",borderRadius:6,borderWidth:0,hoverBackgroundColor:"#3b82f6"}}}})})})]})}),(0,t.jsx)(b.E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.6},children:(0,t.jsxs)(o.J,{className:"p-1 h-full",children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2 text-foreground",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400"}),"Pipeline de Candidaturas"]}),(0,t.jsx)(i.SZ,{className:"text-muted-foreground",children:"Distribui\xe7\xe3o por estado de aprova\xe7\xe3o"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)(w,{data:{labels:k.graficos.candidaturasPorStatus.map(e=>e.status),datasets:[{data:k.graficos.candidaturasPorStatus.map(e=>e.total),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(236, 72, 153, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)"],borderWidth:0,hoverOffset:10}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"right",labels:{padding:20,color:"#94a3b8",font:{size:12}}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",padding:12,cornerRadius:8,titleColor:"#fff"}}}})})})]})})]}):null,(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(b.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"lg:col-span-2",children:(0,t.jsxs)(o.J,{className:"h-full",children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ll,{className:"text-foreground",children:"\xdaltimos Avisos"}),(0,t.jsx)(i.SZ,{className:"text-muted-foreground",children:"Monitoriza\xe7\xe3o em tempo real"})]}),(0,t.jsx)(v.default,{href:"/dashboard/avisos",children:(0,t.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground hover:bg-muted",children:["Ver todos ",(0,t.jsx)(g.Z,{className:"w-4 h-4 ml-1"})]})})]}),(0,t.jsx)(i.aY,{className:"space-y-2",children:r.slice(0,5).map((e,r)=>(0,t.jsxs)(b.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.8+.05*r},className:"group flex items-center justify-between p-3 rounded-xl bg-muted/20 border border-transparent hover:border-border hover:bg-muted/50 transition-all cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`mt-1.5 w-2 h-2 rounded-full ${S(e.dataFimSubmissao)} shadow-[0_0_8px_rgba(0,0,0,0.5)]`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-foreground group-hover:text-primary transition-colors",children:e.nome}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase font-bold tracking-wider text-muted-foreground bg-muted px-1.5 py-0.5 rounded",children:e.portal}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.programa})]})]})]}),(0,t.jsx)("div",{className:"text-right",children:z(e.dataFimSubmissao)})]},e.id))})]})}),(0,t.jsxs)(b.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"flex flex-col gap-6",children:[(0,t.jsxs)(o.J,{className:"flex-1",children:[(0,t.jsx)(i.Ol,{className:"pb-4",children:(0,t.jsx)(i.ll,{className:"text-foreground text-lg",children:"Notifica\xe7\xf5es"})}),(0,t.jsx)(i.aY,{className:"space-y-4",children:j?.length>0?j.slice(0,4).map((e,r)=>(0,t.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm text-foreground leading-tight",children:e.assunto}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id)):(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"Sem novas notifica\xe7\xf5es"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(v.default,{href:"/dashboard/empresas",className:"bg-muted/50 hover:bg-blue-600/20 border border-border hover:border-blue-500/50 rounded-xl p-4 transition-all group",children:[(0,t.jsx)(p.Z,{className:"w-6 h-6 text-muted-foreground group-hover:text-blue-500 mb-2"}),(0,t.jsx)("p",{className:"text-sm font-bold text-foreground",children:"Empresas"})]}),(0,t.jsxs)(v.default,{href:"/dashboard/candidaturas",className:"bg-muted/50 hover:bg-emerald-600/20 border border-border hover:border-emerald-500/50 rounded-xl p-4 transition-all group",children:[(0,t.jsx)(m.Z,{className:"w-6 h-6 text-muted-foreground group-hover:text-emerald-500 mb-2"}),(0,t.jsx)("p",{className:"text-sm font-bold text-foreground",children:"Projetos"})]})]})]})]})]})}N.kL.register(N.uw,N.f$,N.ZL,N.qi,N.Dx,N.u,N.De)},35974:function(e,r,a){"use strict";a.d(r,{C:function(){return d}});var t=a(57437);a(2265);var s=a(77712),i=a(94508);let o=(0,s.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,...a}){return(0,t.jsx)("div",{className:(0,i.cn)(o({variant:r}),e),...a})}},62869:function(e,r,a){"use strict";a.d(r,{z:function(){return n}});var t=a(57437),s=a(2265),i=a(37053),o=a(77712),d=a(94508);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),n=s.forwardRef(({className:e,variant:r,size:a,asChild:s=!1,...o},n)=>{let c=s?i.g7:"button";return(0,t.jsx)(c,{className:(0,d.cn)(l({variant:r,size:a,className:e})),ref:n,...o})});n.displayName="Button"},66070:function(e,r,a){"use strict";a.d(r,{Ol:function(){return d},SZ:function(){return n},Zb:function(){return o},aY:function(){return c},eW:function(){return m},ll:function(){return l}});var t=a(57437),s=a(2265),i=a(94508);let o=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));o.displayName="Card";let d=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let n=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));n.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let m=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter"},50873:function(e,r,a){"use strict";a.d(r,{J:function(){return o}});var t=a(57437),s=a(2265),i=a(94508);let o=s.forwardRef(({className:e,glow:r=!1,variant:a="glass",...s},o)=>(0,t.jsxs)("div",{ref:o,className:(0,i.cn)("rounded-2xl transition-all duration-300 relative overflow-hidden group","glass"===a&&"bg-card/30 dark:bg-slate-900/50 backdrop-blur-xl border border-border/50 dark:border-slate-800","solid"===a&&"bg-card border border-border","default"===a&&"bg-card text-card-foreground border border-border","hover:border-primary/50",r&&"hover:shadow-[0_0_30px_-5px_hsl(var(--primary)/0.2)]",e),...s,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-0 dark:from-white/5 dark:to-transparent group-hover:opacity-100 transition-opacity pointer-events-none"}),(0,t.jsx)("div",{className:"relative z-10 text-foreground",children:s.children})]}));o.displayName="PremiumCard"},94508:function(e,r,a){"use strict";a.d(r,{cn:function(){return i}});var t=a(61994),s=a(53335);function i(...e){return(0,s.m6)((0,t.W)(e))}}},function(e){e.O(0,[7674,6137,8239,7648,7454,2971,2117,1744],function(){return e(e.s=53314)}),_N_E=e.O()}]);