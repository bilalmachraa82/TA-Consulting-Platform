(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5802],{94929:function(e,t,r){Promise.resolve().then(r.bind(r,39226))},39226:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(57437),a=r(2265),n=r(66070),i=r(35974),l=r(62869),c=r(82431),d=r(99397),o=r(98420),u=r(48736),f=r(76865),m=r(70525),h=r(76858),x=r(27648);function p(){let[e,t]=(0,a.useState)([]),[r,p]=(0,a.useState)(null),[v,g]=(0,a.useState)(!0),[j,y]=(0,a.useState)(null),b=async()=>{g(!0);try{let e=await fetch("/api/empresas/by-consultor");if(!e.ok)throw Error("Erro ao carregar dados");let r=await e.json();t(r.empresas),p(r.stats)}catch(e){y(e instanceof Error?e.message:"Erro desconhecido")}finally{g(!1)}};(0,a.useEffect)(()=>{b()},[]);let N=e=>e.documentos.length>0?"border-red-200 bg-red-50":e.candidaturas.some(e=>e.aviso.urgente)?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50";return v?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}):j?(0,s.jsxs)("div",{className:"p-6 text-center",children:[(0,s.jsx)("p",{className:"text-red-600",children:j}),(0,s.jsx)(l.z,{onClick:b,className:"mt-4",children:"Tentar novamente"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Minhas Empresas"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Gest\xe3o centralizada de todas as empresas que acompanha"})]}),(0,s.jsx)(l.z,{asChild:!0,children:(0,s.jsxs)(x.default,{href:"/dashboard/empresas/nova",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Nova Empresa"]})})]}),r&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(n.Zb,{children:(0,s.jsx)(n.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Empresas"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:r.totalEmpresas})]}),(0,s.jsx)(o.Z,{className:"h-8 w-8 text-blue-600"})]})})}),(0,s.jsx)(n.Zb,{children:(0,s.jsx)(n.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Candidaturas Ativas"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:r.candidaturasAtivas})]}),(0,s.jsx)(u.Z,{className:"h-8 w-8 text-green-600"})]})})}),(0,s.jsx)(n.Zb,{className:r.documentosProblematicos>0?"border-red-200":"",children:(0,s.jsx)(n.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Docs. a Resolver"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:r.documentosProblematicos})]}),(0,s.jsx)(f.Z,{className:"h-8 w-8 text-red-600"})]})})}),(0,s.jsx)(n.Zb,{className:r.avisosUrgentes>0?"border-yellow-200":"",children:(0,s.jsx)(n.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Avisos Urgentes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:r.avisosUrgentes})]}),(0,s.jsx)(m.Z,{className:"h-8 w-8 text-yellow-600"})]})})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===e.length?(0,s.jsx)(n.Zb,{className:"col-span-full",children:(0,s.jsxs)(n.aY,{className:"py-12 text-center",children:[(0,s.jsx)(o.Z,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Ainda n\xe3o tem empresas"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Comece por adicionar a primeira empresa que ir\xe1 gerir."}),(0,s.jsx)(l.z,{asChild:!0,className:"mt-4",children:(0,s.jsxs)(x.default,{href:"/dashboard/empresas/nova",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Empresa"]})})]})}):e.map(e=>(0,s.jsxs)(n.Zb,{className:`hover:shadow-md transition-shadow ${N(e)}`,children:[(0,s.jsx)(n.Ol,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ll,{className:"text-lg",children:e.nome}),(0,s.jsxs)(n.SZ,{children:["NIPC: ",e.nipc]})]}),(0,s.jsx)(i.C,{variant:"outline",children:e.dimensao})]})}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Setor:"}),(0,s.jsx)("span",{children:e.setor})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Candidaturas ativas:"}),(0,s.jsx)(i.C,{variant:e.candidaturas.length>0?"default":"secondary",children:e.candidaturas.length})]}),e.documentos.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[e.documentos.length," documento(s) a resolver"]})]}),e.candidaturas.some(e=>e.aviso.urgente)&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Tem candidatura(s) com prazo urgente"})]}),(0,s.jsx)(l.z,{asChild:!0,variant:"outline",className:"w-full mt-2",children:(0,s.jsxs)(x.default,{href:`/dashboard/empresas?id=${e.id}`,children:["Ver detalhes",(0,s.jsx)(h.Z,{className:"h-4 w-4 ml-2"})]})})]})})]},e.id))})]})}},35974:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(57437);r(2265);var a=r(77712),n=r(94508);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},62869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(57437),a=r(2265),n=r(37053),i=r(77712),l=r(94508);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},d)=>{let o=a?n.g7:"button";return(0,s.jsx)(o,{className:(0,l.cn)(c({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var s=r(57437),a=r(2265),n=r(94508);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(61994),a=r(53335);function n(...e){return(0,a.m6)((0,s.W)(e))}},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...u},f)=>(0,s.createElement)("svg",{ref:f,...d,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:l("lucide",n),...!i&&!c(u)&&{"aria-hidden":"true"},...u},[...o.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),u=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...n},c)=>(0,s.createElement)(o,{ref:c,iconNode:t,className:l(`lucide-${a(i(e))}`,`lucide-${e}`,r),...n}));return r.displayName=i(e),r}},76858:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},98420:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},48736:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82431:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},70525:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},76865:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},98575:function(e,t,r){"use strict";r.d(t,{F:function(){return a},e:function(){return n}});var s=r(2265);function a(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function n(...e){return s.useCallback(a(...e),e)}},37053:function(e,t,r){"use strict";r.d(t,{g7:function(){return i}});var s=r(2265),a=r(98575),n=r(57437),i=s.forwardRef((e,t)=>{let{children:r,...a}=e,i=s.Children.toArray(r),c=i.find(d);if(c){let e=c.props.children,r=i.map(t=>t!==c?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...a,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,n.jsx)(l,{...a,ref:t,children:r})});i.displayName="Slot";var l=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref;return s.cloneElement(r,{...function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{n(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:t?(0,a.F)(t,l):l})}return s.Children.count(r)>1?s.Children.only(null):null});l.displayName="SlotClone";var c=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function d(e){return s.isValidElement(e)&&e.type===c}},77712:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=function(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s);else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(s&&(s+=" "),s+=t);return s},n=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let n=s(t)||s(a);return i[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,c,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[6137,7648,2971,2117,1744],function(){return e(e.s=94929)}),_N_E=e.O()}]);