(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5429],{72190:function(e,t,s){Promise.resolve().then(s.bind(s,61415))},61415:function(e,t,s){"use strict";s.d(t,{LeadTable:function(){return f}});var r=s(57437),a=s(2265),l=s(73578),n=s(95186),o=s(35974),i=s(62869),d=s(73247),c=s(92735),u=s(42208),x=s(52093),m=s(13758);function f({leads:e}){let[t,s]=(0,a.useState)(""),[f,h]=(0,a.useState)("ALL"),b=e.filter(e=>{let s=(e.nomeEmpresa?.toLowerCase()||"").includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||(e.nif||"").includes(t),r="ALL"===f||e.status===f;return s&&r});return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[(0,r.jsxs)("div",{className:"relative w-full sm:w-72",children:[(0,r.jsx)(d.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-slate-500"}),(0,r.jsx)(n.I,{placeholder:"Pesquisar empresas...",value:t,onChange:e=>s(e.target.value),className:"pl-8 bg-slate-900 border-slate-700 text-slate-200"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{className:"bg-slate-900 border border-slate-700 text-slate-200 rounded-md text-sm px-3 py-2",value:f,onChange:e=>h(e.target.value),children:[(0,r.jsx)("option",{value:"ALL",children:"Todos os Estados"}),(0,r.jsx)("option",{value:"NOVO",children:"Novo"}),(0,r.jsx)("option",{value:"CONTACTADO",children:"Contactado"}),(0,r.jsx)("option",{value:"QUALIFICADO",children:"Qualificado"})]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([["Data,NIF,Empresa,Email,Telefone,Distrito,Status,Score",...b.map(e=>[new Date(e.createdAt).toISOString(),e.nif,`"${e.nomeEmpresa||e.nome}"`,e.email,e.telefone||"",e.distrito||"",e.status,e.scoreElegibilidade].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=`leads_export_${new Date().toISOString().split("T")[0]}.csv`,t.click()},className:"border-slate-700 hover:bg-slate-800 text-slate-200",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),(0,r.jsx)("div",{className:"rounded-md border border-slate-800 bg-slate-900/50 overflow-hidden",children:(0,r.jsxs)(l.iA,{children:[(0,r.jsx)(l.xD,{className:"bg-slate-900",children:(0,r.jsxs)(l.SC,{className:"border-slate-800 hover:bg-slate-800/50",children:[(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Data"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Empresa"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"NIF"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Contacto"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Distrito"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Score"}),(0,r.jsx)(l.ss,{className:"text-slate-400",children:"Status"}),(0,r.jsx)(l.ss,{className:"text-right text-slate-400",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(l.RM,{children:0===b.length?(0,r.jsx)(l.SC,{children:(0,r.jsx)(l.pj,{colSpan:8,className:"text-center h-24 text-slate-500",children:"Nenhuma lead encontrada."})}):b.map(e=>(0,r.jsxs)(l.SC,{className:"border-slate-800 hover:bg-slate-800/50 transition-colors",children:[(0,r.jsx)(l.pj,{className:"text-slate-300 font-mono text-xs",children:(0,x.WU)(new Date(e.createdAt),"dd/MM/yyyy",{locale:m.pt})}),(0,r.jsxs)(l.pj,{className:"font-medium text-slate-200",children:[e.nomeEmpresa||e.nome,e.tipoProjeto&&(0,r.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:e.tipoProjeto})]}),(0,r.jsx)(l.pj,{className:"text-slate-400 font-mono text-sm",children:e.nif}),(0,r.jsx)(l.pj,{className:"text-slate-300 text-sm",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{children:e.email}),(0,r.jsx)("span",{className:"text-slate-500 text-xs",children:e.telefone})]})}),(0,r.jsx)(l.pj,{className:"text-slate-300",children:e.distrito}),(0,r.jsx)(l.pj,{children:(0,r.jsxs)(o.C,{variant:"outline",className:`
                            ${(e.scoreElegibilidade||0)>=70?"border-green-500 text-green-400 bg-green-500/10":(e.scoreElegibilidade||0)>=40?"border-yellow-500 text-yellow-400 bg-yellow-500/10":"border-slate-700 text-slate-400"}
                        `,children:[e.scoreElegibilidade,"%"]})}),(0,r.jsx)(l.pj,{children:(0,r.jsx)(o.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 border-0",children:e.status})}),(0,r.jsx)(l.pj,{className:"text-right",children:(0,r.jsx)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-700 hover:text-white",children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})})})]},e.id))})]})}),(0,r.jsxs)("div",{className:"text-xs text-slate-500 text-right",children:["Total: ",b.length," leads"]})]})}},35974:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var r=s(57437);s(2265);var a=s(77712),l=s(94508);let n=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:t}),e),...s})}},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(57437),a=s(2265),l=s(37053),n=s(77712),o=s(94508);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},d)=>{let c=a?l.g7:"button";return(0,r.jsx)(c,{className:(0,o.cn)(i({variant:t,size:s,className:e})),ref:d,...n})});d.displayName="Button"},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var r=s(57437),a=s(2265),l=s(94508);let n=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-background/50 px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));n.displayName="Input"},73578:function(e,t,s){"use strict";s.d(t,{RM:function(){return i},SC:function(){return d},iA:function(){return n},pj:function(){return u},ss:function(){return c},xD:function(){return o}});var r=s(57437),a=s(2265),l=s(94508);let n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var r=s(61994),a=s(53335);function l(...e){return(0,a.m6)((0,r.W)(e))}}},function(e){e.O(0,[6137,2318,9247,2971,2117,1744],function(){return e(e.s=72190)}),_N_E=e.O()}]);